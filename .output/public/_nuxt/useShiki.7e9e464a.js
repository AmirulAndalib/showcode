import{p as f}from"./entry.34beaa91.js";import{l as b}from"./useFonts.08393901.js";const B=t=>{let e=t;return e.length===4&&(e=e[0]+e[1]+e[1]+e[2]+e[2]+e[3]+e[3]),{r:parseInt(e.substring(1,3),16),g:parseInt(e.substring(3,5),16),b:parseInt(e.substring(5,7),16)}},$=({r:t,g:e,b:o})=>`rgb(${t},${e},${o})`,x=({r:t,g:e,b:o},s)=>`rgba(${t},${e},${o},${s})`;var G={hexToRGB:B,formatRGB:$,formatRGBA:x};const{hexToRGB:R,formatRGB:k,formatRGBA:y}=G,A=(t,e)=>{const o=R(t);return typeof e=="number"&&e>=0&&e<=1?y(o,e):k(o)};var m=A;function w(){const{$shiki:t}=f(),e=(s,i)=>{var n;return(n=s.find(r=>r.id===i))==null?void 0:n.name};return{buildCodeBlocks:async(s,i)=>{const{code:n,languages:r,opacity:l,theme:u}=b.exports.defaults(s,{code:[],languages:[],opacity:100,theme:"github-light"});await t.loadLanguages(r.map(a=>a.name)),await t.loadTheme(u);const d=await Promise.all(n.map(async a=>({added:a.added,removed:a.removed,focused:a.focused,lines:await t.tokens(a.value,e(r,a.id),u)}))),{name:g,fg:c,bg:h,type:p}=t.getTheme(u);i({blocks:d,themeType:g.includes("light")?"light":p,themeForeground:m(c,parseFloat(l)),themeBackground:m(h,parseFloat(l))})}}}export{w as u};
