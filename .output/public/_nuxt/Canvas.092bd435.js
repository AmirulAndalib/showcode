import S from"./ButtonResize.f71c70b2.js";import v from"./Divider.5c0ae6e6.js";import k from"./Separator.1c4aad71.js";import{i as R,_ as B}from"./Interact.378af0ec.js";import{L as q,x as n,t as N,m as g,o as y,c as j,S as C,G as b,$ as A,F as V,M,V as l,W as X,Q as F,P,X as _}from"./entry.34beaa91.js";const W={props:{width:{type:Number,required:!0},height:{type:Number,required:!0},position:{type:String,required:!0},resizable:{type:Boolean,default:!0,required:!1},zoom:{type:[Number,String],required:!0},aspectRatio:{type:Array,required:!1},background:{type:String,required:!0},backgroundAttributes:{type:Object,required:!0}},setup(m,{emit:d}){const e=n(null),t=n(null),h=n(null),f=n(null),a=n(null),c=n(null),{zoom:z,aspectRatio:u}=N(m),p=g(()=>{if(u.value){const[o,s]=u.value;return o/s}}),x=g(()=>1/new Number(z.value)),w=g(()=>{var o,s,i,r;return{edges:{top:(o=h.value)==null?void 0:o.$el,right:(s=f.value)==null?void 0:s.$el,bottom:(i=a.value)==null?void 0:i.$el,left:(r=c.value)==null?void 0:r.$el},modifiers:[R.modifiers.aspectRatio({ratio:p.value})]}});return{x:e,y:t,top:h,right:f,bottom:a,left:c,resize:w,onResize:o=>{const s=o.target.parentNode;if(o.rect.width){const i=s.getBoundingClientRect().width/s.offsetWidth,r=o.rect.width/i;d("update:width",r)}if(o.rect.height){const i=s.getBoundingClientRect().height/s.offsetHeight,r=o.rect.height/i;d("update:height",r)}},zoomScale:x}}},Y=b("div",{class:"absolute inset-0 z-[2] w-full h-full bg-overlay pointer-events-none"},null,-1),D=["dusk","data-hide"];function E(m,d,e,t,h,f){const a=S,c=v,z=k,u=B;return y(),j(u,{style:_({touchAction:"none",width:`${e.width}px`,height:`${e.height}px`}),resize:t.resize,onResizemove:t.onResize},{default:C(()=>[Y,b("div",A(e.backgroundAttributes,{class:"absolute inset-0",dusk:`background-${e.background}`,"data-hide":e.background==="transparent"}),null,16,D),e.resizable?(y(),V(M,{key:0},[l(a,{ref:"top","data-hide":"","zoom-scale":t.zoomScale,class:"absolute top-0 left-1/2 -m-1.5 cursor-resize-height resize-top"},null,8,["zoom-scale"]),l(a,{ref:"bottom","data-hide":"","zoom-scale":t.zoomScale,class:"absolute bottom-0 left-1/2 -m-1.5 cursor-resize-height resize-bottom"},null,8,["zoom-scale"]),l(a,{ref:"left","data-hide":"","zoom-scale":t.zoomScale,class:"absolute left-0 top-1/2 -m-1.5 cursor-resize-width resize-left"},null,8,["zoom-scale"]),l(a,{"data-hide":"",ref:"right","zoom-scale":t.zoomScale,class:"absolute right-0 top-1/2 -m-1.5 cursor-resize-width resize-right"},null,8,["zoom-scale"])],64)):X("",!0),b("div",{class:F(["relative flex flex-1",{"items-center justify-center":e.position==="center","items-start justify-center":e.position==="top","items-end justify-center":e.position==="bottom","items-center justify-start":e.position==="left","items-center justify-end":e.position==="right"}])},[P(m.$slots,"default"),l(c,{"data-hide":"",dusk:"canvas-height",number:e.height,"zoom-scale":t.zoomScale,style:_({marginRight:`-${3.5*Math.pow(t.zoomScale,.5)}rem`}),class:"absolute top-0 right-0 mx-4 text-xs font-semibold text-ui-gray-300"},null,8,["number","zoom-scale","style"])],2),l(z,{dusk:"canvas-width",number:e.width,"zoom-scale":t.zoomScale,style:_({marginBottom:`-${3.5*Math.pow(t.zoomScale,.5)}rem`}),class:"absolute bottom-0 w-full text-xs font-semibold text-ui-gray-300"},null,8,["number","zoom-scale","style"])]),_:3},8,["style","resize","onResizemove"])}const J=q(W,[["render",E]]);export{J as default};
